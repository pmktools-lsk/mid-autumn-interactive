<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>互動英語學習影片</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #fff;
      display: flex;
      height: 100vh;
    }
    #left {
      flex: 2;
      display: flex;
      flex-direction: column;
      padding: 10px;
    }
    #right {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      background: #1e293b;
    }
    video {
      width: 100%;
      max-height: 65vh;
      background: black;
    }
    .controls {
      margin-top: 8px;
    }
    button {
      margin: 2px;
      padding: 6px 10px;
      border: none;
      border-radius: 4px;
      background: #334155;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #475569;
    }
    #youtube-link {
      margin-top: 12px;
    }
    #youtube-link a {
      display: inline-flex;
      align-items: center;
      background: #FF0000;
      color: #fff;
      padding: 6px 12px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
    }
    #youtube-link svg {
      margin-right: 6px;
    }
  </style>
</head>
<body>
  <div id="left">
    <h2>故事影片</h2>
    <input type="file" id="fileInput" accept="video/*">
    <video id="video" controls>
      <source src="story.mov" type="video/mp4">
      您的瀏覽器不支援影片播放。
    </video>

    <!-- YouTube 外部觀看 -->
    <div id="youtube-link">
      <span style="font-weight:bold;">到以下平台觀看：</span>
      <a href="https://www.youtube.com/watch?v=xxxxxxx" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" 
             viewBox="0 0 24 24" fill="white">
          <path d="M23.498 6.186a2.971 2.971 0 00-2.09-2.103C19.397 3.5 12 3.5 12 3.5s-7.397 0-9.408.583a2.971 2.971 0 00-2.09 2.103A30.18 30.18 0 000 12a30.18 30.18 0 00.502 5.814 2.971 2.971 0 002.09 2.103C4.603 20.5 12 20.5 12 20.5s7.397 0 9.408-.583a2.971 2.971 0 002.09-2.103A30.18 30.18 0 0024 12a30.18 30.18 0 00-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
        YouTube
      </a>
    </div>

    <div class="controls">
      <button onclick="prev()">上一句</button>
      <button onclick="playPause()">播放 / 暫停</button>
      <button onclick="next()">下一句</button>
      <button onclick="repeat()">重複本句</button>
    </div>
  </div>

  <div id="right">
    <h3>字幕對照 / 小測驗</h3>
    <div id="subtitles">
      <!-- 動態載入字幕 -->
    </div>
  </div>

  <script>
    const video = document.getElementById('video');
    const fileInput = document.getElementById('fileInput');

    fileInput.addEventListener('change', function() {
      const file = fileInput.files[0];
      if (file) {
        const url = URL.createObjectURL(file);
        video.src = url;
      }
    });

    function playPause() {
      if (video.paused) {
        video.play();
      } else {
        video.pause();
      }
    }

    function prev() {
      video.currentTime = Math.max(0, video.currentTime - 5);
    }

    function next() {
      video.currentTime = Math.min(video.duration, video.currentTime + 5);
    }

    function repeat() {
      const currentTime = video.currentTime;
      video.currentTime = currentTime - 3;
      video.play();
    }
  </script>
</body>
</html>

</script>
</body>
</html>

